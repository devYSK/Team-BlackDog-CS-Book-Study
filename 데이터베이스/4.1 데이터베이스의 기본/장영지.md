## 데이터베이스의 기본

1. 엔터티

: 여러개의 속성을 지닌 명사

- 약한 엔터티와 강한 엔터티
  강한 엔터티 : 혼자서 존재하는 엔터티
  약한 엔터티 : 다른 엔터티에 종속적이여 혼자서 존재하지 못한다.

2. 릴레이션

: 데이터베이스에서 정보를 구분하여 저장하는 기본 단위. 엔터티에 관한 데이터를 데이터베이스는 릴레이션 하나에 담아서 관리한다.

3. 테이블과 컬렉션

MySQL(SQL 데이터베이스) : 레코드 - 테이블 - 데이터베이스 구조

MongoDB(NoSQL 데이터 베이스) : 도큐먼트 - 컬렉션 - 데이터베이스

4. 속성

: 릴레이션에서 관리하고 구체적이며, 고유한 이름을 갖는 정보.

5. 도메인

: 릴레이션에 포함된 각각의 속성들이 가질수 있는 값의 집합.

6. 필드와 레코드

- 레코드 : 테이블의 행 단위 데이터. 듀플 이라고도 한다.
- 필드 : 데이블의 속성

- 필드 타입
  : DBMS 마다 다르다. (MySQL 기준으로 작성)
  - 숫자 타입
  - 날짜 타입
    | type | 용량 | 범위 |
    | --------- | ---- | ----------------------------------------- |
    | DATE | 3 | 1000-01-01 ~ 9999-12-31 |
    | DATETIME | 8 | 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59 |
    | TIMESTEMP | 4 | 1970-01-01 00:00:01 ~ 2038-01-19 03:14:07 |
    - DATETIME와 TIMESTEMP 사용
  - 문자 타입
    **CHAR와 VARCHAR**
    CHAR : 테이블의 생성할때 선언한 길이로 고정되어 저장된다.
    VARCHAR : 가변길이 문자열. 입력된 데이터에 따라 용량을 가변시켜 저장하며 길이기록용 1바이트가 함께 저장된다.
    **TEXT와 BLOB : 큰 데이터를 저장할때 쓰는 타입**
    TEXT : 주로 게시판 본문등을 저장.
    BLOB : 이미지, 덩영상 등 큰 데이터 저장. 보통은 이미지 호스팅 서비스(아마존의 S3) 서버에 파일을 올리고 관한 경리를 VARCHAR로 저장한다.
    **ENUM과 SET : 열거형 타입**
    ENUM : 정해진 선택 값들(최대 65545개) 중 단일 선택만 가능하고 ENUM 리스트에 없는 값을 삽입시 빈 문자열이 대신 삽입된다.
    SET : 선택 값들(최대 64개)중 여러개의 데이터를 선택할 수 있다.
    → 공간적 이점을 볼 수 있지만, 수정이 힘들고 확장성이 막혀있어 오히려 비효율적으로 사용될 수 있으니 주의한다.

7. 관계

- 1 : 1 관계
  → 데이블을 두개로 나눠 테이블의 구조를 더 이해하기 쉽게 만들어준다.
- 1 : N 관계
  → 한개의 개체가 다른 많은 개체를 포함하는 관계
- N : M 관계
  → 해당 관계에서는 두 테이블이 직접적으로 연결해서 구축하지 않고 1:N, 1:M 관계를 갖는 테이블 두개를 나눠서 설정한다.
- N : M 관계에 중간 테이블을 만드는 이유

8. 키

: 테이블 자체의 인덱스를 위해 설정된 장치

: 관계 → 슈퍼키(유일성) > 후보키(최소성) > 기본키, 대체키

- 기본키 (Primary Key, PK)
  유일성과 최소성을 만족. 복합키를 기본키로 설정할 수 있지만, 그럴경우 최소성을 만족하지 못한다.
  자연키 또는 인조키 중에 설정한다.
  - 자연키 : 중복값들을 제외하고 자연스럽게 남은값 (ex. 주민번호)
  - 인조키 : 인위적으로 유저 아이디로 부여. 고유식별자 (squence,auto increment등으로 설정)
- 외래키 (Foreign key, Fk)
  다른 테이블의 기본키를 그대로 참조로 개체와의 관계를 식별한다.
  중복이 되어도 괜찮다.
- 후보키
  유일성과 최소성을 만족하여 기본키가 될수 있는 후보들.
- 데체키
  후보키가 두개 이상일 경우, 기본키로 지정하고 남은 후보키들.
  [https://velog.io/@hyun6ik/대체키에-대하여](https://velog.io/@hyun6ik/%EB%8C%80%EC%B2%B4%ED%82%A4%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC)
- 슈퍼키

  레코드를 유일하게 식별할 수 있는 키.
