# CPU 스케줄링 알고리즘

## **스케줄링이란 무엇일까?**

- 코어가 하나인 단일 프로세서 시스템은 한 번에 하나의 프로세스를 실행시킨다.
- 나머지 프로세스들은 CPU를 사용할 수 있을 때까지 기다린다.
- 하나의 프로세스가 수행되는 동안 CPU를 계속 사용지 않는다.
- CPU가 사용되지 않는 동안 다른 프로세스를 실행하면 CPU 사용 효율을 높일 수 있다.

**다수의 프로세스를 메모리에 유지하여 프로세스의 CPU 사용을 적절히 나누어 CPU 이용을 최대화하는 시스템을 뜻한다.**

프로세스는 CPU 실행(CPU burst) I/O 대기(I/O burst)의 사이클로 구성된다.

CPU 버스트와 I/O 버스트의 길이는 프로세스마다 다르기 때문에 CPU 스케줄링이 필요하다.

![https://blog.kakaocdn.net/dn/bfWKVh/btrK1qFEr1B/r6MPKFkYeoCsQ7sykScHAk/img.png](https://blog.kakaocdn.net/dn/bfWKVh/btrK1qFEr1B/r6MPKFkYeoCsQ7sykScHAk/img.png)

## **선점과 비선점**

### **선점이란?**

운영체제가 프로세스의 할당되었던 CPU를 자체적으로 다른 프로세스로 전환시킨다.

### 선점형 알고리즘

### 라운드 로빈 (Round Robin)

- 시간 할당량을 정하여 정해진 시간 동안 프로세스를 선점하고 시간이 끝나면 다음 프로세스에게 CPU를 할당하고 현재 프로세스는 큐에 맨 끝으로 가게 된다.
- RR  알고리즘은 시간 할당량이 너무 크면 FCFS 알고리즘과 같게 된다.
- 반대로 할당량이 적으면 Context Switch 가 많이 일어나 프로세스 실행이 느려진다.

### 최단 잔여 시간 우선 스케줄링 (Shortest Remaining Time)

- SJF 알고리즘에서 중간에 더 짧은 작업이 들어오면 수행하던 프로세스를 중지하고 해당 프로세스를 수행하는 알고리즘이다.
- SRF 알고리즘은 CPU 버스트가 짧은 걸 먼저 할당하여 최적이라 생각하지만 CPU 버스트가 긴 프로세스가 계속 할당을 받지 못하는 기아 현상이 발생할 수 있다.

### 다단계 큐 스케줄링 (Multilevel-Queue)

![다단계큐스케줄링](https://user-images.githubusercontent.com/82176176/208299551-ebbd8a15-f8a6-44c2-94f5-b3208dded37f.png)


- 단일 큐를 사용하지 않고 우선순위마다 별도의 큐를 가져 프로세스를 스케줄 하는 방법이다.

### **비선점이란?**

CPU가 프로세스에 할당되면 프로세스가 종료나 대기 상태로 들어가지 않으면 프로세스의 전환이 일어나지 않는다.

### 비선점형 알고리즘

### 선입 선출 스케줄링 (First-Come-First-Served)

- CPU에 요청하는 순서대로 CPU를 할당받는 방식이다.
- 작업이 종료나 대기할 때까지 CPU를 선점하지 않는 비선점 방식이다.
- FIFO 방식의 큐로 쉽게 구현하여 관리할 수 있다.

### 최단 작업 우선 스케줄링 (Shortest Job First)

- CPU 버스트 시간이 적은 프로세스를 할당한다.
- SJF 스케줄링은 주어진 프로세스 집합에 대해 최소의 평균 대기 시간을 가진다.
- 하지만 다음 CPU 버스트의 길이를 알 방법이 없어 근삿값을 이용하여 프로세스를 선택한다.

### 우선순위 스케줄링 (Priority)

- 기준을 정하여 높은 우선순위를 가진 프로세스부터 CPU를 할당하는 알고리즘이다.
- SJF도 시간이 짧은 것이 먼저 할당받는 우선순위 스케줄링이라 볼 수 있다.
- SJF에서의 단점처럼 기아 현상이 발생할 수 있다.
- 기아 현상을 해결하기 위하여 점진적으로 우선순위를 높이는 aging기법을 사용한다.
