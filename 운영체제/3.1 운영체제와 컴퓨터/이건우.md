## **운영체제의 역할**

- CPU 스케줄링 프로세스 관리 :  CPU를 어느 프로세스에 할당하고, 프로세스의 생성 삭제등을 관리합니다.
- 메모리 관리 : 한정된 메모리를 효율적이고 공정하게 운용하고  요청에 따라 자원의 할당을 관리합니다.
- 디스크 파일 관리 : 디스크 파일을 어떠한 방법으로 보관할지 관리합니다.
- I/O 디바이스 관리 : 마우스 키보드와 컴퓨터 간의 데이터를 주고받는 것을 관리합니다.

## **운영체제의 구조**

![image](https://user-images.githubusercontent.com/82176176/206798755-009cc6f5-6fa0-4f64-8e01-46e437fa9592.png)


## **사용자 모드와 커널 모드**

운영체제는 **사용자 모드**와 **커널 모드**로 나뉘어 운영체제 코드오 사용자 코드를 구분하여 실행할 수 있어야 한다.

![https://blog.kakaocdn.net/dn/dJCR9D/btrKOHIWFrP/luSp7CkKwfIC2BEbGcVqGK/img.png](https://blog.kakaocdn.net/dn/dJCR9D/btrKOHIWFrP/luSp7CkKwfIC2BEbGcVqGK/img.png)

mode bit : 현재의 모드를 나타내기 위해 사용하는 비트이다.

이중 모드는 잘못된 요청으로부터 운영체제를 보호하여 준다.

악영향을 야기할 수 있는 명령을 **특권 명령**(I/O 제어, 인터럽트 관리 등등)으로 지정하여 커널 모드에서만 수행하도록 한다.

## **시스템 콜(System Call)**

일반적으로 응용프로그램은 사용자 모드에서 실행된다.

응용프로그램들이 커널 모드에서만 실행 가능한 특권 명령을 수행하기 위해 시스템 콜을 수행한다.

응용 프로그램은 커널에 필요한 특권 명령을 요청하여 커널 모드에서 처리하고 결과를 받게 된다.

시스템 콜은 운영체제에 의해 사용 가능하게 된 특권 명령에 대한 인터페이스를 제공하여 응용 프로그램이 특권 명령을 요청하도록 지원해 준다.

## CPU

산술 논리 연산 장치, 제어장치, 레지스터로 구성되어 있는 컴퓨터 장치이다.

## 제어 장치(CU)

입출력 장치 간 통신 및 조율을 제어한다. 명령어들을 읽고 해석하며 데이터 처리를 위한 시퀀스를 결정한다.

## 레지스터

CPU 안에 있는 매우 빠른 임시기억 장치이다.

## 산술논리연산장치(ALU)

산술연산과 논리연산을 계산하는 디지털 회로

## 인터럽트

어떤 요청이 들어와 운영체제가 하던일을 멈추고 들어온 요청을 처리하는 것

**인터럽트**

- 입출력 작업을 시작하기 위해 장치 드라이버는 장치 컨트롤러의 적절한 레지스터에 값을 적재한다.
- 장치 컨트롤러는 레지스터의 내용을 검사하여 수행할 작업을 결정한다.
- 컨트롤러는 장치에서 로컬 버퍼로 데이터 전송을 시작한다.
- 데이터 전송이 완료되면 장치 컨트롤러는 장치 드라이버에게 작업이 완료되었음을 알린다.
- 컨트롤러는 장치 드라이버에게 작업을 완료했다는 사실을 인터럽트를 통해 알립니다.

하드웨어는 어느 순간이든 시스템 버스를 통해 CPU에 신호를 보내 인터럽트를 발생시킬 수 있다.

CPU가 인터럽트 되면, CPU는 하던 일을 중단하고 즉시 고정된 위치로 실행을 옮긴다.

인터럽트 서비스 루틴이 실행된다.

CPU는 인터럽트 되었던 연산을 재개한다.

![https://blog.kakaocdn.net/dn/cerrX1/btrxjG3LqoV/kJ7fe7fPbmwhMQcpoF9nv1/img.jpg](https://blog.kakaocdn.net/dn/cerrX1/btrxjG3LqoV/kJ7fe7fPbmwhMQcpoF9nv1/img.jpg)

소프트 웨어 인터럽트

트랩이라 한다.

프로세스 오류 등으로 프로세스가 시스템 콜을 호출하는 것을 말한다.

## DMA

직접 메모리 액세스라 합니다.

- 인터럽트 I/O 형태는 비휘발성 저장 장치의 I/O에서는 높은 오버헤드를 유발할 수 있습니다
- 장치에 대한 버퍼 및 포인터, 입출력 카운트를 세팅한 후 장치 제어기는 CPU의 개입 없이 메모리로부터 자신의 버퍼 장치로 또는 버퍼로부터 메모리로 데이터 블록 전체를 전송한다.
- 인터럽트가 한 바이트가 아닌 블록 전송이 완료될 때마다 인터럽트가 발생한다.

![https://blog.kakaocdn.net/dn/DMUOY/btrxkNWeROq/KmgHyLtLRtwFvQFUnOp13K/img.jpg](https://blog.kakaocdn.net/dn/DMUOY/btrxkNWeROq/KmgHyLtLRtwFvQFUnOp13K/img.jpg)

## 메모리

전자회로에서 데이터나 상태, 명령어 등을 기록하는 장치를 말한다.

## 타이머

특정 프로그램에 시간제한을 다는 역할을 한다.

## 디바이스 컨트롤러

컴퓨터와 연결되어 있는 IO 디바이스들의 작은 CPU를 말한다.
